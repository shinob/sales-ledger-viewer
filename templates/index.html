 <!doctype html>
 <html lang="ja">
 <head>
 	<meta charset="utf-8" />
 	<meta name="viewport" content="width=device-width, initial-scale=1" />
 	<title>販売大臣NX 買掛・売掛データビュワー</title>
 	<link rel="stylesheet" href="/static/styles.css" />
 	<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
 </head>
 <body>
 	<header>
 		<h1>販売大臣NX 買掛・売掛データビュワー</h1>
 	</header>
 	<section class="filters">
 		<div class="row">
			<label>開始日
				<input type="date" id="start_date" value="{{ default_start }}" />
			</label>
			<label>終了日
				<input type="date" id="end_date" value="{{ default_end }}" />
			</label>
			<div class="type-field">
				<span class="type-label">種別</span>
				<div class="type-options">
					<label><input type="radio" name="type" value="" checked />全て</label>
					<label><input type="radio" name="type" value="purchase" />買掛</label>
					<label><input type="radio" name="type" value="sale" />売掛</label>
				</div>
			</div>
			<label>キーワード
				<input type="text" id="keyword" placeholder="例：品目・備考など" />
			</label>
			<button id="searchBtn">検索</button>
			<button id="chartBtn" type="button">グラフ表示</button>
			<button id="reloadBtn" title="TSVを再読込">再読込</button>
			<button id="uploadToggleBtn" type="button">ファイル更新</button>
		</div>
	</section>

	<section class="upload hidden" id="uploadSection">
		<h2>台帳ファイルの更新</h2>
		<div class="row upload-row">
			<label>買掛台帳
				<input type="file" id="purchaseFile" accept=".txt,.TXT,text/plain" />
			</label>
			<label>売掛台帳
				<input type="file" id="salesFile" accept=".txt,.TXT,text/plain" />
			</label>
			<button id="uploadBtn" type="button">アップロードして更新</button>
		</div>
		<p class="hint">※ 指定がない場合は既存ファイルを利用します。新しいファイルのみ選択して更新できます。</p>
	</section>

	<section class="chart-wrap hidden" id="chartSection">
		<canvas id="amountChart" height="80"></canvas>
	</section>
 
 	<section class="results">
 		<div class="meta">
 			<span id="count">0</span> 件
 		</div>
 		<table id="results">
 			<thead>
 				<tr>
					<th>日付</th>
					<th>種別</th>
					<th>伝票番号</th>
					<th>相手先</th>
					<th>品名/備考</th>
					<th>数量</th>
					<th>単価</th>
					<th>金額</th>
				</tr>
			</thead>
			<tbody></tbody>
		</table>
 	</section>
 
 	<script src="/static/app.js"></script>
 </body>
 </html>
